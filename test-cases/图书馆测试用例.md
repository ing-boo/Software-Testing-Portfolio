# 图书馆系统测试用例

## 1. 获取所有图书 (GET /posts)

| 用例 ID | 测试场景 | 前置条件 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|--------|----------|----------|----------|----------|----------|------|
| TC_BOOK_001 | 验证 HTTP 状态码 | API 服务正常 | 1. 发送 GET 请求到/posts| 1. HTTP 状态码返回 200 | | 通过 |
| TC_BOOK_002 | 验证响应格式为数组 | 系统中有图书数据 | 1. 发送 GET 请求到/posts<br>2. 检查响应格式 | 1. 响应体为 JSON 数组格式 | | 通过 |
| TC_BOOK_003 | 验证图书列表不为空 | 数据库中有图书记录 | 1. 发送 GET 请求到/posts<br>2. 检查数组长度 | 1. 返回的数组长度大于 0<br>2. 至少包含 1 本图书 | | 通过 |
| TC_BOOK_004 | 验证图书数据结构 | - | 1. 发送 GET 请求到/posts<br>2. 检查第一本书的字段 | 1. 第一本书包含 title 字段<br>2. title 字段为字符串类型 | | 通过 |
| TC_BOOK_005 | 验证返回图书数量 | - | 1. 发送 GET 请求到/posts<br>2. 检查控制台输出 | 1. 正确显示获取到的图书数量 | | 通过 |

## 2. 获取特定图书详情 (GET /posts{id})

| 用例 ID | 测试场景 | 前置条件 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|--------|----------|----------|----------|----------|----------|------|
| TC_BOOK_005 | 验证 HTTP 状态码 | 图书 ID=1 存在 | 1. 发送 GET 请求到/posts/1 | 1. HTTP 状态码返回 200 | | 通过 |
| TC_BOOK_006 | 验证返回正确的图书 ID | 图书 ID=1 存在 | 1. 发送 GET 请求到/posts/1<br>2. 检查返回的 ID | 1. 返回的 id 字段值为 1<br>2. 控制台输出正确的图书 ID | | 通过 |
| TC_BOOK_007 | 验证必要字段完整性 | 图书 ID=1 存在 | 1. 发送 GET 请求到/posts/1<br>2. 检查响应字段 | 1. 包含所有必要字段: id, title, body, userId | | 通过 |
| TC_BOOK_008 | 验证字段数据类型正确 | 图书 ID=1 存在 | 1. 发送 GET 请求到/posts/1<br>2. 检查字段类型 | 1. id 为 number 类型<br>2. title 为 string 类型<br>3. body 为 string 类型<br>4. userId 为 number 类型 | | 通过 |
| TC_BOOK_009 | 验证标题不为空 | 图书 ID=1 存在 | 1. 发送 GET 请求到/posts/1<br>2. 检查 title 字段 | 1. title 字段不为空<br>2. title 长度大于 0 | | 通过 |
| TC_BOOK_010 | 获取不存在的图书 | 图书 ID=999 不存在 | 1. 发送 GET 请求到/posts/999 | 1. HTTP 状态码 404<br>2. 返回错误信息 | | 通过 |
| TC_BOOK_011 | 无效 ID 格式测试 | - | 1. 发送 GET 请求到/posts/abc | 1. HTTP 状态码 400<br>2. 返回参数错误提示 | | 通过 |

## 3. 添加新图书 (POST /posts)

| 用例 ID | 测试场景 | 前置条件 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|--------|----------|----------|----------|----------|----------|------|
| TC_BOOK_010 | 验证创建成功状态码 | API 服务正常 | 1. 发送 POST 请求到/posts<br>2. 包含完整图书数据 | 1. HTTP 状态码返回 201 | 状态码 201，创建成功 | 通过 |
| TC_BOOK_011 | 验证返回数据匹配请求数据 | - | 1. 发送 POST 请求<br>2. 比较请求和响应数据 | 1. 返回的 title、body、userId 与请求数据一致 | 数据完全匹配 | 通过 |
| TC_BOOK_012 | 验证服务器生成新 ID | - | 1. 发送 POST 请求<br>2. 检查响应中的 id 字段 | 1. id 字段为数字类型<br>2. id 值大于 0 | 生成有效 ID: 101 | 通过 |
| TC_BOOK_013 | 验证环境变量保存 | - | 1. 创建新图书<br>2. 检查环境变量 | 1. 新图书 ID 保存到 new_book_id 变量 | 变量保存成功 | 通过 |
| TC_BOOK_014 | 验证响应时间性能 | - | 1. 发送 POST 请求<br>2. 记录响应时间 | 1. 响应时间小于 887ms | 响应时间: 45ms | 通过 |
| TC_BOOK_015 | 添加缺少必需字段的图书 | - | 1. 发送 POST 请求<br>2. Body: {body: "内容", userId: 1} (缺少 title) | 1. HTTP 状态码 400<br>2. 返回缺少字段的错误信息 | | 待执行 |

## 4. 更新图书信息 (PUT /posts/{id})

| 用例 ID | 测试场景 | 前置条件 | 测试步骤 | 预期结果 | 实际结果 | 状态 |
|--------|----------|----------|----------|----------|----------|------|
| TC_BOOK_015 | 验证更新成功状态码 | 图书 ID=1 存在 | 1. 发送 PUT 请求到/posts/1<br>2. 包含更新数据 | 1. HTTP 状态码返回 200 | 状态码 200，更新成功 | 通过 |
| TC_BOOK_016 | 验证数据正确更新 | - | 1. 发送 PUT 请求<br>2. 比较请求和响应数据 | 1. 返回的 title、body、id 与请求数据一致 | 数据正确更新 | 通过 |
| TC_BOOK_017 | 验证标题包含更新内容 | - | 1. 更新图书标题<br>2. 检查响应标题 | 1. 标题包含"更新后的图书标题" | 标题更新成功 | 通过 |
| TC_BOOK_018 | 验证响应结构完整 | - | 1. 发送 PUT 请求<br>2. 检查响应字段 | 1. 包含完整字段: id, title, body, userId | 结构完整 | 通过 |
| TC_BOOK_019 | 验证更新信息输出 | - | 1. 更新图书信息<br>2. 检查控制台输出 | 1. 控制台显示更新成功信息 | 信息输出正确 | 通过 |
| TC_BOOK_020 | 验证更新后数据一致性 | - | 1. 更新图书信息<br>2. 重新获取该图书详情 | 1. 两次获取的信息一致<br>2. 更新字段正确保存 | | 待执行 |



